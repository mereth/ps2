<!DOCTYPE html>
<html>
<head>
<title>#playername#</title>
<link href="//ajax.aspnetcdn.com/ajax/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/purl/2.3.1/purl.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.2.0/knockout-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/knockout.mapping/2.4.1/knockout.mapping.min.js"></script>
<script src="//ajax.aspnetcdn.com/ajax/bootstrap/3.3.1/bootstrap.min.js"></script>
<script src="ps2-util.js"></script>
<script src="ps2-killboard.js"></script>
<script src="ps2-player.js"></script>
<script>
(function() {
    var character_id = $.url().param('id')

    if(!character_id)
        return;

    ps2.killboard.update(character_id);
    ps2.player.update(character_id);
})();
</script>
<style>
.navbar-brand {
  background-position: 10px center;
  background-size: 25px 25px;
  background-repeat: no-repeat;
}

.rank {
  background-position: 0px;
  background-size: 25px 25px;
  background-repeat: no-repeat;
}

.nc a { color: #55e; }
.nc .navbar-brand { color: #55c !important; }

.tr a { color: #e00; }
.tr .navbar-brand { color: #c22 !important; }

.vs a { color: #e0e; }
.vs .navbar-brand { color: #c0c !important; }

.circle {
    display: inline-block;
    margin-left: 5px;
    border-radius: 50%;
    width: 10px;
    height: 10px;
    /* width and height can be anything, as long as they're equal */
}

td.br, td.kd, td.spm, td.kpm, th.br, th.kd, th.spm, th.kpm, #stats td, #stats thead th {
    text-align: right;
}
tr.headshot td.method:last-child:after {
    content: " (HS)";
    color: #c00;
    font-size: 0.8em;
    font-weight: bold;
}
tr.suicide td.method:last-child:after {
    content: " (Suicide)";
    color: #c00;
    font-size: 0.9em;
}
span.vehicle {
    color: #00bbdd;
}
span.weapon + span.vehicle:before {
    content: " (";
}
span.weapon + span.vehicle:after {
    content: ")";
}

</style>
</head>
<body>
<div id="player" data-bind="css: factionTag" >
<header class="navbar navbar-static-top navbar-inverse" role="banner">
  <div class="container-fluid">
    <div class="navbar-header">
      <div class="navbar-brand" data-bind="style: { backgroundImage: 'url(' + factionImage() + ')' }">
        <span data-bind="text: name" style="margin-left:25px;"></span>
        <span class="circle" data-bind="style: { backgroundColor: (online() == '0' ? '#f00' : '#0f0') }"></span>
      </div>
    </div>
    <p class="navbar-text rank" data-bind="style: { backgroundImage: 'url(' + rankImage() + ')' }">
      <span style="margin-left:25px;" data-bind="text: rank"></span>
    </p>
    <p class="navbar-text" >
      <a data-bind="text: outfit, attr: { href: 'outfit.html?id=' + outfitId() }"></a>
    </p>
    <form class="navbar-form navbar-right" role="search" action="index.html">
      <div class="form-group">
        <input id="term" name="term" type="text" class="form-control" placeholder="Search">
      </div>
    </form>
  </div>
</header>

<div class="container-fluid">
  <div class="row">
  <div class="col-xs-4">
    <table id="stats" class="table table-condensed" data-bind="if: statistics">
        <thead>
            <tr>
                <th>&nbsp;</th>
                <th>Played</th>
                <th>Score</th>
                <th>Kills</th>
                <th>Deaths</th>
                <th>K/D</th>
                <th>SPM</th>
                <th>KPM</th>
            </tr>
        </thead>
        <tbody data-bind="with: statistics">
            <tr id="stats_overall">
                <th>Overall</th>
                <td data-bind="text: moment.duration(time.all_time, 's').format()"></td>
                <td data-bind="text: score.all_time"></td>
                <td data-bind="text: kills.all_time"></td>
                <td data-bind="text: deaths.all_time"></td>
                <td data-bind="text: kdr.all_time"></td>
                <td data-bind="text: spm.all_time"></td>
                <td data-bind="text: kpm.all_time"></td>
            </tr>
            <tr id="stats_monthly">
                <th>Monthly</th>
                <td data-bind="text: moment.duration(time.monthly, 's').format()"></td>
                <td data-bind="text: score.monthly"></td>
                <td data-bind="text: kills.monthly"></td>
                <td data-bind="text: deaths.monthly"></td>
                <td data-bind="text: kdr.monthly"></td>
                <td data-bind="text: spm.monthly"></td>
                <td data-bind="text: kpm.monthly"></td>
            </tr>
            <tr id="stats_weekly">
                <th>Weekly</th>
                <td data-bind="text: moment.duration(time.weekly, 's').format()"></td>
                <td data-bind="text: score.weekly"></td>
                <td data-bind="text: kills.weekly"></td>
                <td data-bind="text: deaths.weekly"></td>
                <td data-bind="text: kdr.weekly"></td>
                <td data-bind="text: spm.weekly"></td>
                <td data-bind="text: kpm.weekly"></td>
            </tr>
            <tr id="stats_daily">
                <th>Daily</th>
                <td data-bind="text: moment.duration(time.daily, 's').format()"></td>
                <td data-bind="text: score.daily"></td>
                <td data-bind="text: kills.daily"></td>
                <td data-bind="text: deaths.daily"></td>
                <td data-bind="text: kdr.daily"></td>
                <td data-bind="text: spm.daily"></td>
                <td data-bind="text: kpm.daily"></td>
            </tr>
        </tbody>
            <tfooter>
                <tr><td colspan="8"><small data-bind="text: lastUpdate"></small></td></tr>
            </tfooter>
    </table>
  </div>
  </div>
</div>
    
</div>
<div id="killboard">

<div class="container-fluid">
  <div class="row">
  <div class="col-xs-12">
    <table class="table table-condensed">
        <thead>
            <tr>
                <th>Time</th>
                <th>Player</th>
                <th>Outfit</th>
                <th class="br">Rank</th>
                <th class="kd">K/D</th>
                <th class="spm">SPM</th>
                <th class="kpm">KPM</th>
                <th>Method</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: events">
            <tr data-bind="css: getRowCss()">
                <td class="time" data-bind="text: time"></td>
                <td class="name" data-bind="html: name"></td>
                <td class="outfit" data-bind="html: outfit"></td>
                <td class="br" data-bind="text: rank"></td>
                <td class="kd" data-bind="text: kd"></td>
                <td class="spm" data-bind="text: spm"></td>
                <td class="kpm" data-bind="text: kpm"></td>
                <td class="method" data-bind="html: method"></td>
            </tr>
        </tbody>
    </table>
    <button data-bind="click: getMore">More</button>
    
  </div>
  </div>
</div>

</div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48221605-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>