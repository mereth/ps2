<!DOCTYPE html>
<html>
<head>
<title>PS2Stats</title>
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.1.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.3/moment.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/purl/2.3.1/purl.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
<script src="//ajax.aspnetcdn.com/ajax/knockout/knockout-3.1.0.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/knockout.mapping/2.4.1/knockout.mapping.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="ps2-search.js"></script>
<style>
</style>
<script>
    var character_id = $.url().param('character_id')
    if(character_id) {
        window.location.replace("character.html?id="+character_id)
    }
</script>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h1>Search for characters or outfits...</h1>
                
                <div id="search" class="input-group">
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-search"></span>
                    </div>
                    <input class="form-control" placeholder="eg.: Higby" data-bind="value: search"></input>
                    <div class="input-group-btn">
                        <button class="btn btn-default" data-bind="click: submit">Go!</button>
                    </div>
                </div>
                
                <p> </p>
                
                <div class="row">
                    <div class="col-lg-6">
                        <div data-bind="visible: characters().length">
                            <table class="table table-condensed table-striped">
                                <legend>Characters...</legend>
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>BR</th>
                                        <th>Server</th>
                                    </tr>
                                </thead>
                                <tbody data-bind="foreach: characters">
                                    <tr data-bind="if: $index() < $parent.limit()">
                                        <td><a data-bind="text: name.first, attr: { href: 'character.html?id=' + character_id }"></a></td>
                                        <td data-bind="text: battle_rank.value"></td>
                                        <td data-bind="text: $parent.getWorldLabel(world.world_id)"></td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr data-bind="visible: characters().length > limit()">
                                        <td colspan="3">and more...</td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div data-bind="visible: outfits().length">
                            <table class="table table-condensed table-striped">
                                <legend>Outfits...</legend>
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Tag</th>
                                        <th>Server</th>
                                    </tr>
                                </thead>
                                <tbody data-bind="foreach: outfits">
                                    <tr data-bind="if: $index() <  $parent.limit()">
                                        <td><a data-bind="text: name, attr: { href: 'outfit.html?id=' + outfit_id }"></a></td>
                                        <td data-bind="text: alias"></td>
                                        <td data-bind="text: $parent.getWorldLabel(leader.world.world_id)"></td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr data-bind="visible: outfits().length > limit()">
                                        <td colspan="3">and more...</td>
                                    </tr>
                                </tfoot>
                            </table>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48221605-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>